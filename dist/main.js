(()=>{"use strict";const e=[];class t{constructor(e){this.title=e,this.tasks=[]}removeProject(){e.splice(e.indexOf(this),1)}addTask(e){this.tasks.push(e)}removeTask(e){this.tasks.splice(this.tasks.indexOf(e),1)}}class n{constructor(e,t,n,s,d){this.title=e,this.desc=t,this.duedate=n,this.priority=s,this.complete=d}}let s=!1,d=document.getElementById("project-header");const a=document.getElementById("task-form"),c=document.getElementById("project-modal"),o=document.getElementById("task-modal");function l(n){m();const s=document.createElement("div"),a=document.createElement("p"),o=document.createElement("span");for(d.innerText=n,s.classList.add("project"),s.setAttribute("data-project-index",e.length),a.classList.add("mouse-effect"),a.innerText=n,o.classList.add("icon","delete-icon"),document.getElementById("add-project-btn").disabled=!1,a.addEventListener("click",(()=>{d.innerText=n;let t=s.dataset.projectIndex;document.getElementById("task-form").dataset.projectIndex=t,m();for(let n of l.tasks)r(t,e[t].tasks.indexOf(n))})),o.addEventListener("click",(()=>{let t=s.dataset.projectIndex;if(function(t,n){let s=t.dataset.projectIndex;t.remove(),n.removeProject(),s>0?(document.getElementById("task-form").dataset.projectIndex=s-1,d.innerText=e[s-1].title):d.innerText="";const a=document.querySelectorAll(`div.task[data-project-index="${s}"]`);for(let e of a)e.remove();const c=document.querySelectorAll(".project");for(let t in e)c[t].setAttribute("data-project-index",t)}(s,l),t>0)for(let n of e[t-1].tasks)r(n.title,n.desc,n.duedate,n.priority,n.complete)}));s.hasChildNodes();)s.removeChild(s.lastChild);document.getElementById("task-container").appendChild(d),document.getElementById("projects-container").appendChild(s),s.append(a,o),document.getElementById("task-form").dataset.projectIndex=s.dataset.projectIndex,document.getElementById("project-form").reset(),c.style.display="none";const l=function(n){const s=new t(n);return e.push(s),s}(a.innerText)}function i(e){switch(e){case 1:return"red";case 2:return"orange";case 3:return"green";case 4:return"blue"}}function r(t,n){const d=document.createElement("div"),c=document.createElement("span"),l=document.createElement("label"),r=document.createElement("input"),m=document.createElement("p"),x=document.createElement("p"),k=document.createElement("p"),y=document.createElement("p"),E=document.createElement("span"),L=document.createElement("span");let v=e[t].tasks[n];d.classList.add("task"),d.setAttribute("data-project-index",t),d.setAttribute("data-task-index",n),r.type="checkbox",r.classList.add("checkbox"),!0===v.complete?(l.innerText="Complete",r.checked=!0):l.innerText="Unfinished",l.classList.add("checkbox"),c.classList.add("expand"),r.type="checkbox",r.classList.add("checkbox"),m.innerText=v.title,x.classList.add("desc"),x.innerText=v.desc,k.innerText=v.duedate;let g=i(Number(v.priority));y.style.color=g,y.innerText=v.priority,E.classList.add("icon","edit-icon"),L.classList.add("icon","delete-icon"),c.addEventListener("click",(()=>{c.classList.contains("rotate-up")?(c.classList.remove("rotate-up"),c.classList.add("rotate-down"),d.classList.add("task-expand"),d.classList.remove("task-reduce"),x.classList.add("desc-expand")):c.classList.contains("rotate-down")?(c.classList.remove("rotate-down"),c.classList.add("rotate-up"),d.classList.remove("task-expand"),d.classList.add("task-reduce"),x.classList.remove("desc-expand")):(c.classList.add("rotate-down"),d.classList.add("task-expand"),x.classList.add("desc-expand"))})),E.addEventListener("click",(()=>{s=!0,o.style.display="block",a.dataset.taskIndex=n,u(m.innerText,x.innerText,k.innerText,y.innerText)})),L.addEventListener("click",(()=>{p(d,v)})),document.getElementById("task-container").appendChild(d),d.append(c,r,l,m,x,k,y,E,L)}function m(){const e=document.getElementById("task-container");for(;e.hasChildNodes()&&e.childElementCount>1;)e.removeChild(e.lastChild)}function u(e,t,n,s){document.getElementById("title").value=e,document.getElementById("desc").value=t,document.getElementById("due-date").value=n,document.getElementById("priority").value=s}function p(t,n){let s=t.dataset.projectIndex;t.remove(),e[s].removeTask(n);const d=document.querySelectorAll(".task");for(let t in e[s].tasks)d[t].dataset.taskIndex=t}l("Default");const x=document.getElementById("add-project-btn"),k=document.getElementById("add-task-btn"),y=document.getElementById("project-form"),E=document.getElementById("task-form"),L=document.getElementById("project-modal"),v=document.getElementById("task-modal"),g=document.querySelectorAll(".close-btn");window.addEventListener("click",(e=>{e.target==L?(L.style.display="none",y.reset()):e.target==v&&(v.style.display="none",E.reset())})),g[0].addEventListener("click",(()=>{L.style.display="none",y.reset()})),g[1].addEventListener("click",(()=>{v.style.display="none",E.reset()})),y.addEventListener("submit",(e=>{e.preventDefault(),l(e.target[0].value)})),x.addEventListener("click",(()=>{L.style.display="block"})),E.addEventListener("submit",(t=>{t.preventDefault(),!1===s?function(t){const d=document.createElement("div"),c=document.createElement("span"),l=document.createElement("label"),r=document.createElement("input"),m=document.createElement("p"),x=document.createElement("p"),k=document.createElement("p"),y=document.createElement("p"),E=document.createElement("span"),L=document.createElement("span");let v=e[t].tasks.length,g=document.getElementById("title").value,h=document.getElementById("desc").value,f=document.getElementById("due-date").value,I=document.getElementById("priority").value;d.classList.add("task"),d.setAttribute("data-project-index",t),d.setAttribute("data-task-index",v),c.classList.add("expand"),l.innerText="Unfinished",l.classList.add("checkbox"),r.type="checkbox",r.classList.add("checkbox"),m.innerText=g,x.classList.add("desc"),x.innerText=h,k.innerText=f,y.innerText=I;let T=i(Number(I));y.style.color=T,E.classList.add("icon","edit-icon"),L.classList.add("icon","delete-icon"),c.addEventListener("click",(()=>{c.classList.contains("rotate-up")?(c.classList.remove("rotate-up"),c.classList.add("rotate-down"),d.classList.add("task-expand"),d.classList.remove("task-reduce"),x.classList.add("desc-expand")):c.classList.contains("rotate-down")?(c.classList.remove("rotate-down"),c.classList.add("rotate-up"),d.classList.remove("task-expand"),d.classList.add("task-reduce"),x.classList.remove("desc-expand")):(c.classList.add("rotate-down"),d.classList.add("task-expand"),x.classList.add("desc-expand"))})),r.addEventListener("click",(()=>{!1===b.complete?(b.complete=!0,l.innerText="Complete",d.classList.add("complete")):(b.complete=!1,l.innerText="Unfinished",d.classList.remove("complete"))})),E.addEventListener("click",(()=>{console.log(e[t].tasks.indexOf(b)),console.log(e),s=!0,o.style.display="block",a.dataset.taskIndex=e[t].tasks.indexOf(b),u(m.innerText,x.innerText,k.innerText,y.innerText)})),L.addEventListener("click",(()=>{p(d,b)})),document.getElementById("task-container").appendChild(d),d.append(c,r,l,m,x,k,y,E,L),document.getElementById("task-form").reset(),o.style.display="none";const b=function(t,s,d,a,c,o){const l=new n(t,s,d,a,!1);return e[o].addTask(l),l}(g,h,f,I,0,t)}(t.target.dataset.projectIndex):!0===s&&function(t,n,...d){const c=document.querySelector(`div.task[data-task-index="${n}"]`),l=e[t].tasks[n],r=c.childNodes;let m=i(Number(d[3]));r[6].style.color=m,r[3].innerText=d[0],r[4].innerText=d[1],r[5].innerText=d[2],r[6].innerText=d[3],l.title=d[0],l.desc=d[1],l.duedate=d[2],l.priority=d[3],a.reset(),o.style.display="none",s=!1}(t.target.dataset.projectIndex,t.target.dataset.taskIndex,t.target[0].value,t.target[1].value,t.target[2].value,t.target[3].value)})),k.addEventListener("click",(()=>{document.querySelectorAll(".project").length>0&&(v.style.display="block")}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UWIsRUFBaUJjLE9BQU91QixFQUFXLEtBQy9DRSxFQUFLLEdBQUcxQyxNQUFNZ0IsTUFBUUEsRUFDdEIwQixFQUFLLEdBQUdsRSxVQUFZZ0UsRUFBVyxHQUMvQkUsRUFBSyxHQUFHbEUsVUFBWWdFLEVBQVcsR0FDL0JFLEVBQUssR0FBR2xFLFVBQVlnRSxFQUFXLEdBQy9CRSxFQUFLLEdBQUdsRSxVQUFZZ0UsRUFBVyxHQUMvQnRGLEVBQUtQLE1BQVE2RixFQUFXLEdBQ3hCdEYsRUFBS0ksS0FBT2tGLEVBQVcsR0FDdkJ0RixFQUFLSyxRQUFVaUYsRUFBVyxHQUMxQnRGLEVBQUtNLFNBQVdnRixFQUFXLEdBQzNCMUUsRUFBU2lDLFFBQ1QvQixFQUFVZ0MsTUFBTUMsUUFBVSxPQUMxQnZDLEdBQU8sQ0FDVCxDQ3ZQSWtGLENBQVNmLEVBQUVDLE9BQU85QyxRQUFRRCxhQUFjOEMsRUFBRUMsT0FBTzlDLFFBQVFxQixVQUFXd0IsRUFBRUMsT0FBTyxHQUFHUCxNQUFPTSxFQUFFQyxPQUFPLEdBQUdQLE1BQ2pHTSxFQUFFQyxPQUFPLEdBQUdQLE1BQU9NLEVBQUVDLE9BQU8sR0FBR1AsTUFDbkMsSUFHRkUsRUFBVzNDLGlCQUFpQixTQUFTLEtBQ2xCbEIsU0FBUzBCLGlCQUFpQixZQUMvQlYsT0FBUyxJQUNuQixFQUFVb0IsTUFBTUMsUUFBVSxRQUM1QixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2xvZ2ljLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9ET00uanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFyclByb2plY3RzID0gW11cblxuY2xhc3MgUHJvamVjdCB7XG4gIGNvbnN0cnVjdG9yKHRpdGxlKSB7XG4gICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIHRoaXMudGFza3MgPSBbXTtcbiAgfVxuICByZW1vdmVQcm9qZWN0KCkge1xuICAgIGFyclByb2plY3RzLnNwbGljZShhcnJQcm9qZWN0cy5pbmRleE9mKHRoaXMpLCAxKTtcbiAgfVxuICBcbiAgYWRkVGFzayh0YXNrKSB7XG4gICAgdGhpcy50YXNrcy5wdXNoKHRhc2spO1xuICB9XG5cbiAgcmVtb3ZlVGFzayh0YXNrKSB7XG4gICAgdGhpcy50YXNrcy5zcGxpY2UodGhpcy50YXNrcy5pbmRleE9mKHRhc2spLCAxKTtcbiAgfVxufVxuXG5jbGFzcyBUYXNrIHtcbiAgY29uc3RydWN0b3IodGl0bGUsIGRlc2MsIGR1ZWRhdGUsIHByaW9yaXR5LCBjb21wbGV0ZSkge1xuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICB0aGlzLmRlc2MgPSBkZXNjO1xuICAgIHRoaXMuZHVlZGF0ZSA9IGR1ZWRhdGU7XG4gICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgIHRoaXMuY29tcGxldGUgPSBjb21wbGV0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVQcm9qZWN0Q2xhc3ModGl0bGUpIHtcbiAgY29uc3QgcHJvamVjdCA9IG5ldyBQcm9qZWN0KHRpdGxlKTtcbiAgYXJyUHJvamVjdHMucHVzaChwcm9qZWN0KTtcbiAgcmV0dXJuIHByb2plY3Q7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRhc2tDbGFzcyh0aXRsZSwgZGVzYywgZHVlZGF0ZSwgcHJpb3JpdHksIGNvbXBsZXRlLCBwcm9qZWN0SW5kZXgpIHtcbiAgY29uc3QgdGFzayA9IG5ldyBUYXNrKHRpdGxlLCBkZXNjLCBkdWVkYXRlLCBwcmlvcml0eSwgY29tcGxldGUpO1xuICBhcnJQcm9qZWN0c1twcm9qZWN0SW5kZXhdLmFkZFRhc2sodGFzayk7XG4gIHJldHVybiB0YXNrO1xufVxuXG5leHBvcnQge2NyZWF0ZVByb2plY3RDbGFzcywgY3JlYXRlVGFza0NsYXNzLCBhcnJQcm9qZWN0c30iLCJpbXBvcnQgeyBjcmVhdGVQcm9qZWN0Q2xhc3MsIGNyZWF0ZVRhc2tDbGFzcywgYXJyUHJvamVjdHMgfSBmcm9tIFwiLi9sb2dpYy5qc1wiO1xubGV0IGVkaXQgPSBmYWxzZTtcbmxldCBwcm9qZWN0SGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3QtaGVhZGVyJyk7XG5jb25zdCB0YXNrRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrLWZvcm0nKTtcbmNvbnN0IHByb2plY3RNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0LW1vZGFsJyk7XG5jb25zdCB0YXNrTW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFzay1tb2RhbCcpO1xuXG5mdW5jdGlvbiBjcmVhdGVQcm9qZWN0KHByb2plY3ROYW1lKSB7XG4gIGNsZWFyVGFzaygpO1xuICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29uc3QgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXG4gIHByb2plY3RIZWFkZXIuaW5uZXJUZXh0ID0gcHJvamVjdE5hbWU7XG4gIGRpdi5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0Jyk7XG4gIGRpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdC1pbmRleCcsIGFyclByb2plY3RzLmxlbmd0aCk7XG4gIHAuY2xhc3NMaXN0LmFkZCgnbW91c2UtZWZmZWN0Jyk7XG4gIHAuaW5uZXJUZXh0ID0gcHJvamVjdE5hbWU7XG4gIGRlbGV0ZUJ0bi5jbGFzc0xpc3QuYWRkKCdpY29uJywgJ2RlbGV0ZS1pY29uJyk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtcHJvamVjdC1idG4nKS5kaXNhYmxlZCA9IGZhbHNlO1xuXG4gIHAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgcHJvamVjdEhlYWRlci5pbm5lclRleHQgPSBwcm9qZWN0TmFtZTtcbiAgICBsZXQgcHJvamVjdEluZGV4ID0gZGl2LmRhdGFzZXQucHJvamVjdEluZGV4O1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrLWZvcm0nKS5kYXRhc2V0LnByb2plY3RJbmRleCA9IHByb2plY3RJbmRleDtcbiAgICBjbGVhclRhc2soKTtcbiAgICBmb3IobGV0IHRhc2sgb2YgcHJvamVjdC50YXNrcykge1xuICAgICAgYXBwZW5kVGFzayhwcm9qZWN0SW5kZXgsIGFyclByb2plY3RzW3Byb2plY3RJbmRleF0udGFza3MuaW5kZXhPZih0YXNrKSk7XG4gICAgfVxuICB9KTtcblxuICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgbGV0IHByb2plY3RJbmRleCA9IGRpdi5kYXRhc2V0LnByb2plY3RJbmRleDtcbiAgICBkZWxldGVQcm9qZWN0KGRpdiwgcHJvamVjdCk7XG4gICAgaWYocHJvamVjdEluZGV4ID4gMCkge1xuICAgICAgZm9yKGxldCB0YXNrIG9mIGFyclByb2plY3RzW3Byb2plY3RJbmRleCAtIDFdLnRhc2tzKSB7XG4gICAgICAgIGFwcGVuZFRhc2sodGFzay50aXRsZSwgdGFzay5kZXNjLCB0YXNrLmR1ZWRhdGUsIHRhc2sucHJpb3JpdHksIHRhc2suY29tcGxldGUsIHByb2plY3RJbmRleCAtIDEsIHByb2plY3ROYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHdoaWxlKGRpdi5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICBkaXYucmVtb3ZlQ2hpbGQoZGl2Lmxhc3RDaGlsZCk7XG4gIH1cblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFzay1jb250YWluZXInKS5hcHBlbmRDaGlsZChwcm9qZWN0SGVhZGVyKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RzLWNvbnRhaW5lcicpLmFwcGVuZENoaWxkKGRpdik7XG4gIGRpdi5hcHBlbmQocCwgZGVsZXRlQnRuKTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFzay1mb3JtJykuZGF0YXNldC5wcm9qZWN0SW5kZXggPSBkaXYuZGF0YXNldC5wcm9qZWN0SW5kZXg7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0LWZvcm0nKS5yZXNldCgpO1xuICBwcm9qZWN0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4gIGNvbnN0IHByb2plY3QgPSBjcmVhdGVQcm9qZWN0Q2xhc3MocC5pbm5lclRleHQpO1xufVxuXG5mdW5jdGlvbiBkZWxldGVQcm9qZWN0KGRpdiwgcHJvamVjdCkge1xuICBsZXQgaW5kZXggPSBkaXYuZGF0YXNldC5wcm9qZWN0SW5kZXg7XG4gIGRpdi5yZW1vdmUoKTtcbiAgcHJvamVjdC5yZW1vdmVQcm9qZWN0KCk7XG4gIGlmKGluZGV4ID4gMCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrLWZvcm0nKS5kYXRhc2V0LnByb2plY3RJbmRleCA9IGluZGV4IC0gMTtcbiAgICBwcm9qZWN0SGVhZGVyLmlubmVyVGV4dCA9IGFyclByb2plY3RzW2luZGV4IC0gMV0udGl0bGU7XG4gIH0gZWxzZSB7XG4gICAgcHJvamVjdEhlYWRlci5pbm5lclRleHQgPSBcIlwiO1xuICB9XG4gIGNvbnN0IHByb2plY3RUYXNrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYGRpdi50YXNrW2RhdGEtcHJvamVjdC1pbmRleD1cIiR7aW5kZXh9XCJdYCk7XG4gIGZvcihsZXQgdGFzayBvZiBwcm9qZWN0VGFza3MpIHtcbiAgICB0YXNrLnJlbW92ZSgpO1xuICB9XG4gIGNvbnN0IHByb2plY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2plY3QnKTtcbiAgZm9yKGxldCBpIGluIGFyclByb2plY3RzKSB7XG4gICAgcHJvamVjdHNbaV0uc2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3QtaW5kZXgnLCBpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVUYXNrKHByb2plY3RJbmRleCkge1xuICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29uc3QgZXhwYW5kQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGNvbnN0IGNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgY29uc3QgcFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICBjb25zdCBwRGVzYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgY29uc3QgcER1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIGNvbnN0IHBQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgY29uc3QgZWRpdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXG4gIGxldCB0YXNrSW5kZXggPSBhcnJQcm9qZWN0c1twcm9qZWN0SW5kZXhdLnRhc2tzLmxlbmd0aDtcbiAgbGV0IHRpdGxlVmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKS52YWx1ZTtcbiAgbGV0IGRlc2NWYWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNjJykudmFsdWU7XG4gIGxldCBkdWVEYXRlVmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHVlLWRhdGUnKS52YWx1ZTtcbiAgbGV0IHByaW9yaXR5VmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpb3JpdHknKS52YWx1ZTtcblxuICBkaXYuY2xhc3NMaXN0LmFkZCgndGFzaycpO1xuICBkaXYuc2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3QtaW5kZXgnLCBwcm9qZWN0SW5kZXgpO1xuICBkaXYuc2V0QXR0cmlidXRlKCdkYXRhLXRhc2staW5kZXgnLCB0YXNrSW5kZXgpO1xuICBleHBhbmRCdG4uY2xhc3NMaXN0LmFkZCgnZXhwYW5kJyk7XG4gIGxhYmVsLmlubmVyVGV4dCA9IFwiVW5maW5pc2hlZFwiO1xuICBsYWJlbC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveCcpO1xuICBjaGVja2JveC50eXBlID0gXCJjaGVja2JveFwiO1xuICBjaGVja2JveC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveCcpO1xuICBwVGl0bGUuaW5uZXJUZXh0ID0gdGl0bGVWYWx1ZTtcbiAgcERlc2MuY2xhc3NMaXN0LmFkZCgnZGVzYycpO1xuICBwRGVzYy5pbm5lclRleHQgPSBkZXNjVmFsdWU7XG4gIHBEdWVEYXRlLmlubmVyVGV4dCA9IGR1ZURhdGVWYWx1ZTtcbiAgcFByaW9yaXR5LmlubmVyVGV4dCA9IHByaW9yaXR5VmFsdWU7XG4gIGxldCBjb2xvciA9IHNldFByaW9yaXR5Q29sb3IoTnVtYmVyKHByaW9yaXR5VmFsdWUpKTtcbiAgcFByaW9yaXR5LnN0eWxlLmNvbG9yID0gY29sb3I7XG4gIGVkaXRCdG4uY2xhc3NMaXN0LmFkZCgnaWNvbicsICdlZGl0LWljb24nKTtcbiAgZGVsZXRlQnRuLmNsYXNzTGlzdC5hZGQoJ2ljb24nLCAnZGVsZXRlLWljb24nKTtcblxuICBleHBhbmRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYoZXhwYW5kQnRuLmNsYXNzTGlzdC5jb250YWlucygncm90YXRlLXVwJykpIHtcbiAgICAgIGV4cGFuZEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdyb3RhdGUtdXAnKTtcbiAgICAgIGV4cGFuZEJ0bi5jbGFzc0xpc3QuYWRkKCdyb3RhdGUtZG93bicpO1xuXG4gICAgICBkaXYuY2xhc3NMaXN0LmFkZCgndGFzay1leHBhbmQnKTtcbiAgICAgIGRpdi5jbGFzc0xpc3QucmVtb3ZlKCd0YXNrLXJlZHVjZScpO1xuXG4gICAgICBwRGVzYy5jbGFzc0xpc3QuYWRkKCdkZXNjLWV4cGFuZCcpO1xuICAgIH0gZWxzZSBpZiAoZXhwYW5kQnRuLmNsYXNzTGlzdC5jb250YWlucygncm90YXRlLWRvd24nKSkge1xuICAgICAgZXhwYW5kQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3JvdGF0ZS1kb3duJyk7XG4gICAgICBleHBhbmRCdG4uY2xhc3NMaXN0LmFkZCgncm90YXRlLXVwJyk7XG5cbiAgICAgIGRpdi5jbGFzc0xpc3QucmVtb3ZlKCd0YXNrLWV4cGFuZCcpO1xuICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoJ3Rhc2stcmVkdWNlJyk7XG5cbiAgICAgIHBEZXNjLmNsYXNzTGlzdC5yZW1vdmUoJ2Rlc2MtZXhwYW5kJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cGFuZEJ0bi5jbGFzc0xpc3QuYWRkKCdyb3RhdGUtZG93bicpO1xuICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoJ3Rhc2stZXhwYW5kJyk7XG4gICAgICBwRGVzYy5jbGFzc0xpc3QuYWRkKCdkZXNjLWV4cGFuZCcpO1xuICAgIH1cbiAgfSk7XG5cbiAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYodGFzay5jb21wbGV0ZSA9PT0gZmFsc2UpIHtcbiAgICAgIHRhc2suY29tcGxldGUgPSB0cnVlO1xuICAgICAgbGFiZWwuaW5uZXJUZXh0ID0gXCJDb21wbGV0ZVwiO1xuICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoJ2NvbXBsZXRlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhc2suY29tcGxldGUgPSBmYWxzZTtcbiAgICAgIGxhYmVsLmlubmVyVGV4dCA9IFwiVW5maW5pc2hlZFwiO1xuICAgICAgZGl2LmNsYXNzTGlzdC5yZW1vdmUoJ2NvbXBsZXRlJyk7XG4gICAgfVxuICB9KTtcblxuICBlZGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGFyclByb2plY3RzW3Byb2plY3RJbmRleF0udGFza3MuaW5kZXhPZih0YXNrKSk7XG4gICAgY29uc29sZS5sb2coYXJyUHJvamVjdHMpO1xuICAgIGVkaXQgPSB0cnVlO1xuICAgIHRhc2tNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIHRhc2tGb3JtLmRhdGFzZXQudGFza0luZGV4ID0gYXJyUHJvamVjdHNbcHJvamVjdEluZGV4XS50YXNrcy5pbmRleE9mKHRhc2spO1xuICAgIGZpbGxFZGl0Rm9ybShwVGl0bGUuaW5uZXJUZXh0LCBwRGVzYy5pbm5lclRleHQsIHBEdWVEYXRlLmlubmVyVGV4dCwgcFByaW9yaXR5LmlubmVyVGV4dCk7XG4gIH0pO1xuXG4gIGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBkZWxldGVUYXNrKGRpdiwgdGFzayk7XG4gIH0pO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrLWNvbnRhaW5lcicpLmFwcGVuZENoaWxkKGRpdik7XG4gIGRpdi5hcHBlbmQoZXhwYW5kQnRuLCBjaGVja2JveCwgbGFiZWwsIHBUaXRsZSwgcERlc2MsIHBEdWVEYXRlLCBwUHJpb3JpdHksIGVkaXRCdG4sIGRlbGV0ZUJ0bik7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2stZm9ybScpLnJlc2V0KCk7XG4gIHRhc2tNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbiAgY29uc3QgdGFzayA9IGNyZWF0ZVRhc2tDbGFzcyh0aXRsZVZhbHVlLCBkZXNjVmFsdWUsIGR1ZURhdGVWYWx1ZSwgcHJpb3JpdHlWYWx1ZSwgZmFsc2UsIHByb2plY3RJbmRleCk7XG59XG5cbmZ1bmN0aW9uIHNldFByaW9yaXR5Q29sb3IobnVtKSB7XG4gIHN3aXRjaCAobnVtKSB7XG4gICAgY2FzZSAxOlxuICAgICAgcmV0dXJuIFwicmVkXCI7O1xuICAgIGNhc2UgMjpcbiAgICAgIHJldHVybiBcIm9yYW5nZVwiO1xuICAgIGNhc2UgMzpcbiAgICAgIHJldHVybiBcImdyZWVuXCI7XG4gICAgY2FzZSA0OlxuICAgICAgcmV0dXJuIFwiYmx1ZVwiO1xuIH1cbn1cblxuZnVuY3Rpb24gYXBwZW5kVGFzayhwcm9qZWN0SW5kZXgsIHRhc2tJbmRleCkge1xuICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29uc3QgZXhwYW5kQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGNvbnN0IGNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgY29uc3QgcFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICBjb25zdCBwRGVzYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgY29uc3QgcER1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIGNvbnN0IHBQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgY29uc3QgZWRpdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICBsZXQgdGFzayA9IGFyclByb2plY3RzW3Byb2plY3RJbmRleF0udGFza3NbdGFza0luZGV4XTtcblxuICBkaXYuY2xhc3NMaXN0LmFkZCgndGFzaycpO1xuICBkaXYuc2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3QtaW5kZXgnLCBwcm9qZWN0SW5kZXgpO1xuICBkaXYuc2V0QXR0cmlidXRlKCdkYXRhLXRhc2staW5kZXgnLCB0YXNrSW5kZXgpO1xuICBjaGVja2JveC50eXBlID0gXCJjaGVja2JveFwiO1xuICBjaGVja2JveC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveCcpO1xuICBpZih0YXNrLmNvbXBsZXRlID09PSB0cnVlKSB7XG4gICAgbGFiZWwuaW5uZXJUZXh0ID0gXCJDb21wbGV0ZVwiO1xuICAgIGNoZWNrYm94LmNoZWNrZWQgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGxhYmVsLmlubmVyVGV4dCA9IFwiVW5maW5pc2hlZFwiO1xuICB9XG4gIGxhYmVsLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94Jyk7XG4gIGV4cGFuZEJ0bi5jbGFzc0xpc3QuYWRkKCdleHBhbmQnKTtcbiAgY2hlY2tib3gudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgY2hlY2tib3guY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gnKTtcbiAgcFRpdGxlLmlubmVyVGV4dCA9IHRhc2sudGl0bGU7XG4gIHBEZXNjLmNsYXNzTGlzdC5hZGQoJ2Rlc2MnKTtcbiAgcERlc2MuaW5uZXJUZXh0ID0gdGFzay5kZXNjO1xuICBwRHVlRGF0ZS5pbm5lclRleHQgPSB0YXNrLmR1ZWRhdGU7XG4gIGxldCBjb2xvciA9IHNldFByaW9yaXR5Q29sb3IoTnVtYmVyKHRhc2sucHJpb3JpdHkpKTtcbiAgcFByaW9yaXR5LnN0eWxlLmNvbG9yID0gY29sb3I7XG4gIHBQcmlvcml0eS5pbm5lclRleHQgPSB0YXNrLnByaW9yaXR5O1xuICBlZGl0QnRuLmNsYXNzTGlzdC5hZGQoJ2ljb24nLCAnZWRpdC1pY29uJyk7XG4gIGRlbGV0ZUJ0bi5jbGFzc0xpc3QuYWRkKCdpY29uJywgJ2RlbGV0ZS1pY29uJyk7XG5cbiAgZXhwYW5kQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGlmKGV4cGFuZEJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ3JvdGF0ZS11cCcpKSB7XG4gICAgICBleHBhbmRCdG4uY2xhc3NMaXN0LnJlbW92ZSgncm90YXRlLXVwJyk7XG4gICAgICBleHBhbmRCdG4uY2xhc3NMaXN0LmFkZCgncm90YXRlLWRvd24nKTtcblxuICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoJ3Rhc2stZXhwYW5kJyk7XG4gICAgICBkaXYuY2xhc3NMaXN0LnJlbW92ZSgndGFzay1yZWR1Y2UnKTtcblxuICAgICAgcERlc2MuY2xhc3NMaXN0LmFkZCgnZGVzYy1leHBhbmQnKTtcbiAgICB9IGVsc2UgaWYgKGV4cGFuZEJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ3JvdGF0ZS1kb3duJykpIHtcbiAgICAgIGV4cGFuZEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdyb3RhdGUtZG93bicpO1xuICAgICAgZXhwYW5kQnRuLmNsYXNzTGlzdC5hZGQoJ3JvdGF0ZS11cCcpO1xuXG4gICAgICBkaXYuY2xhc3NMaXN0LnJlbW92ZSgndGFzay1leHBhbmQnKTtcbiAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKCd0YXNrLXJlZHVjZScpO1xuXG4gICAgICBwRGVzYy5jbGFzc0xpc3QucmVtb3ZlKCdkZXNjLWV4cGFuZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHBhbmRCdG4uY2xhc3NMaXN0LmFkZCgncm90YXRlLWRvd24nKTtcbiAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKCd0YXNrLWV4cGFuZCcpO1xuICAgICAgcERlc2MuY2xhc3NMaXN0LmFkZCgnZGVzYy1leHBhbmQnKTtcbiAgICB9XG4gIH0pO1xuXG4gIGVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZWRpdCA9IHRydWU7XG4gICAgdGFza01vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgdGFza0Zvcm0uZGF0YXNldC50YXNrSW5kZXggPSB0YXNrSW5kZXg7XG4gICAgZmlsbEVkaXRGb3JtKHBUaXRsZS5pbm5lclRleHQsIHBEZXNjLmlubmVyVGV4dCwgcER1ZURhdGUuaW5uZXJUZXh0LCBwUHJpb3JpdHkuaW5uZXJUZXh0KTtcbiAgfSk7XG5cbiAgZGVsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGRlbGV0ZVRhc2soZGl2LCB0YXNrKTtcbiAgfSlcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFzay1jb250YWluZXInKS5hcHBlbmRDaGlsZChkaXYpO1xuICBkaXYuYXBwZW5kKGV4cGFuZEJ0biwgY2hlY2tib3gsIGxhYmVsLCBwVGl0bGUsIHBEZXNjLCBwRHVlRGF0ZSwgcFByaW9yaXR5LCBlZGl0QnRuLCBkZWxldGVCdG4pO1xufVxuXG5mdW5jdGlvbiBjbGVhclRhc2soKSB7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrLWNvbnRhaW5lcicpO1xuICB3aGlsZShjb250YWluZXIuaGFzQ2hpbGROb2RlcygpICYmIGNvbnRhaW5lci5jaGlsZEVsZW1lbnRDb3VudCA+IDEpIHtcbiAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoY29udGFpbmVyLmxhc3RDaGlsZCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZmlsbEVkaXRGb3JtKHRpdGxlLCBkZXNjLCBkdWVkYXRlLCBwcmlvcml0eSkge1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKS52YWx1ZSA9IHRpdGxlO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVzYycpLnZhbHVlID0gZGVzYztcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2R1ZS1kYXRlJykudmFsdWUgPSBkdWVkYXRlO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpb3JpdHknKS52YWx1ZSA9IHByaW9yaXR5O1xufVxuXG5mdW5jdGlvbiBlZGl0VGFzayhwcm9qZWN0SW5kZXgsIHRhc2tJbmRleCwgLi4uZm9ybVZhbHVlcykge1xuICBjb25zdCBkaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBkaXYudGFza1tkYXRhLXRhc2staW5kZXg9XCIke3Rhc2tJbmRleH1cIl1gKTtcbiAgY29uc3QgdGFzayA9IGFyclByb2plY3RzW3Byb2plY3RJbmRleF0udGFza3NbdGFza0luZGV4XTtcbiAgY29uc3Qgbm9kZSA9IGRpdi5jaGlsZE5vZGVzO1xuICBsZXQgY29sb3IgPSBzZXRQcmlvcml0eUNvbG9yKE51bWJlcihmb3JtVmFsdWVzWzNdKSk7XG4gIG5vZGVbNl0uc3R5bGUuY29sb3IgPSBjb2xvcjtcbiAgbm9kZVszXS5pbm5lclRleHQgPSBmb3JtVmFsdWVzWzBdO1xuICBub2RlWzRdLmlubmVyVGV4dCA9IGZvcm1WYWx1ZXNbMV07XG4gIG5vZGVbNV0uaW5uZXJUZXh0ID0gZm9ybVZhbHVlc1syXTtcbiAgbm9kZVs2XS5pbm5lclRleHQgPSBmb3JtVmFsdWVzWzNdO1xuICB0YXNrLnRpdGxlID0gZm9ybVZhbHVlc1swXTtcbiAgdGFzay5kZXNjID0gZm9ybVZhbHVlc1sxXTtcbiAgdGFzay5kdWVkYXRlID0gZm9ybVZhbHVlc1syXTtcbiAgdGFzay5wcmlvcml0eSA9IGZvcm1WYWx1ZXNbM107XG4gIHRhc2tGb3JtLnJlc2V0KCk7XG4gIHRhc2tNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIGVkaXQgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZGVsZXRlVGFzayhkaXYsIHRhc2spIHtcbiAgbGV0IGluZGV4ID0gZGl2LmRhdGFzZXQucHJvamVjdEluZGV4O1xuICBkaXYucmVtb3ZlKCk7XG4gIGFyclByb2plY3RzW2luZGV4XS5yZW1vdmVUYXNrKHRhc2spO1xuICBjb25zdCB0YXNrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXNrJyk7XG4gIGZvcihsZXQgaSBpbiBhcnJQcm9qZWN0c1tpbmRleF0udGFza3MpIHtcbiAgICB0YXNrc1tpXS5kYXRhc2V0LnRhc2tJbmRleCA9IGk7XG4gIH1cbn1cblxuY3JlYXRlUHJvamVjdChcIkRlZmF1bHRcIik7XG5cbmV4cG9ydCB7IGNyZWF0ZVByb2plY3QsIGNyZWF0ZVRhc2ssIGVkaXRUYXNrLCBlZGl0IH0iLCJpbXBvcnQgeyBjcmVhdGVQcm9qZWN0LCBjcmVhdGVUYXNrLCBlZGl0VGFzaywgZWRpdCB9IGZyb20gXCIuL0RPTVwiO1xuXG5jb25zdCBwcm9qZWN0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC1wcm9qZWN0LWJ0bicpO1xuY29uc3QgYWRkVGFza0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtdGFzay1idG4nKTtcbmNvbnN0IHByb2plY3RGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3QtZm9ybScpO1xuY29uc3QgdGFza0Zvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFzay1mb3JtJyk7XG5jb25zdCBwcm9qZWN0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdC1tb2RhbCcpO1xuY29uc3QgdGFza01vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2stbW9kYWwnKTtcbmNvbnN0IGNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNsb3NlLWJ0bicpO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICBpZiAoZS50YXJnZXQgPT0gcHJvamVjdE1vZGFsKSB7XG4gICAgcHJvamVjdE1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBwcm9qZWN0Rm9ybS5yZXNldCgpO1xuICB9IGVsc2UgaWYoZS50YXJnZXQgPT0gdGFza01vZGFsKSB7XG4gICAgdGFza01vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB0YXNrRm9ybS5yZXNldCgpO1xuICB9XG59KTtcblxuY2xvc2VCdG5bMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIHByb2plY3RNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIHByb2plY3RGb3JtLnJlc2V0KCk7XG59KTtcblxuY2xvc2VCdG5bMV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIHRhc2tNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIHRhc2tGb3JtLnJlc2V0KCk7XG59KTtcblxucHJvamVjdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBjcmVhdGVQcm9qZWN0KGUudGFyZ2V0WzBdLnZhbHVlKTtcbn0pO1xuXG5wcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBwcm9qZWN0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbn0pO1xuXG50YXNrRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGlmKGVkaXQgPT09IGZhbHNlKSB7XG4gICAgY3JlYXRlVGFzayhlLnRhcmdldC5kYXRhc2V0LnByb2plY3RJbmRleCk7XG4gIH0gZWxzZSBpZihlZGl0ID09PSB0cnVlKSB7XG4gICAgZWRpdFRhc2soZS50YXJnZXQuZGF0YXNldC5wcm9qZWN0SW5kZXgsIGUudGFyZ2V0LmRhdGFzZXQudGFza0luZGV4LCBlLnRhcmdldFswXS52YWx1ZSwgZS50YXJnZXRbMV0udmFsdWUsXG4gICAgICBlLnRhcmdldFsyXS52YWx1ZSwgZS50YXJnZXRbM10udmFsdWUpO1xuICB9XG59KTtcblxuYWRkVGFza0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgcHJvamVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2plY3RcIik7XG4gIGlmKHByb2plY3RzLmxlbmd0aCA+IDApIHtcbiAgICB0YXNrTW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgfVxufSk7Il0sIm5hbWVzIjpbImFyclByb2plY3RzIiwiUHJvamVjdCIsImNvbnN0cnVjdG9yIiwidGl0bGUiLCJ0aGlzIiwidGFza3MiLCJyZW1vdmVQcm9qZWN0Iiwic3BsaWNlIiwiaW5kZXhPZiIsImFkZFRhc2siLCJ0YXNrIiwicHVzaCIsInJlbW92ZVRhc2siLCJUYXNrIiwiZGVzYyIsImR1ZWRhdGUiLCJwcmlvcml0eSIsImNvbXBsZXRlIiwiZWRpdCIsInByb2plY3RIZWFkZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwidGFza0Zvcm0iLCJwcm9qZWN0TW9kYWwiLCJ0YXNrTW9kYWwiLCJjcmVhdGVQcm9qZWN0IiwicHJvamVjdE5hbWUiLCJjbGVhclRhc2siLCJkaXYiLCJjcmVhdGVFbGVtZW50IiwicCIsImRlbGV0ZUJ0biIsImlubmVyVGV4dCIsImNsYXNzTGlzdCIsImFkZCIsInNldEF0dHJpYnV0ZSIsImxlbmd0aCIsImRpc2FibGVkIiwiYWRkRXZlbnRMaXN0ZW5lciIsInByb2plY3RJbmRleCIsImRhdGFzZXQiLCJwcm9qZWN0IiwiYXBwZW5kVGFzayIsImluZGV4IiwicmVtb3ZlIiwicHJvamVjdFRhc2tzIiwicXVlcnlTZWxlY3RvckFsbCIsInByb2plY3RzIiwiaSIsImRlbGV0ZVByb2plY3QiLCJoYXNDaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJsYXN0Q2hpbGQiLCJhcHBlbmRDaGlsZCIsImFwcGVuZCIsInJlc2V0Iiwic3R5bGUiLCJkaXNwbGF5IiwiY3JlYXRlUHJvamVjdENsYXNzIiwic2V0UHJpb3JpdHlDb2xvciIsIm51bSIsInRhc2tJbmRleCIsImV4cGFuZEJ0biIsImxhYmVsIiwiY2hlY2tib3giLCJwVGl0bGUiLCJwRGVzYyIsInBEdWVEYXRlIiwicFByaW9yaXR5IiwiZWRpdEJ0biIsInR5cGUiLCJjaGVja2VkIiwiY29sb3IiLCJOdW1iZXIiLCJjb250YWlucyIsImZpbGxFZGl0Rm9ybSIsImRlbGV0ZVRhc2siLCJjb250YWluZXIiLCJjaGlsZEVsZW1lbnRDb3VudCIsInZhbHVlIiwicHJvamVjdEJ0biIsImFkZFRhc2tCdG4iLCJwcm9qZWN0Rm9ybSIsImNsb3NlQnRuIiwid2luZG93IiwiZSIsInRhcmdldCIsInByZXZlbnREZWZhdWx0IiwidGl0bGVWYWx1ZSIsImRlc2NWYWx1ZSIsImR1ZURhdGVWYWx1ZSIsInByaW9yaXR5VmFsdWUiLCJjb25zb2xlIiwibG9nIiwiY3JlYXRlVGFza0NsYXNzIiwiY3JlYXRlVGFzayIsImZvcm1WYWx1ZXMiLCJxdWVyeVNlbGVjdG9yIiwibm9kZSIsImNoaWxkTm9kZXMiLCJlZGl0VGFzayJdLCJzb3VyY2VSb290IjoiIn0=