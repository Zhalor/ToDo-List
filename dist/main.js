(()=>{"use strict";const e=[];class t{constructor(e){this.title=e,this.tasks=[]}removeProject(){e.splice(e.indexOf(this),1)}addTask(e){console.log(this.tasks),this.tasks.push(e)}removeTask(e){this.tasks.splice(this.tasks.indexOf(e),1)}}class n{constructor(e,t,n,d,c){this.title=e,this.desc=t,this.duedate=n,this.priority=d,this.complete=c}}function d(n){const d=document.createElement("div"),c=document.createElement("p"),o=document.createElement("button");for(d.classList.add("project"),d.setAttribute("data-project-index",e.length),c.classList.add("mouse-effect"),c.innerText=n,o.classList.add("close-btn"),o.innerText="X",document.getElementById("add-project-btn").disabled=!1,c.addEventListener("click",(()=>{document.getElementById("task-form").dataset.projectIndex=d.dataset.projectIndex})),o.addEventListener("click",(()=>{!function(t,n){let d=t.dataset.projectIndex;t.remove(),n.removeProject(),d>0&&(document.getElementById("task-form").dataset.projectIndex=d-1);const c=document.querySelectorAll(`div.task[data-project-index="${d}"]`);for(let e of c)e.remove();const o=document.querySelectorAll(".project");for(let t in e)o[t].setAttribute("data-project-index",t)}(d,s)}));d.hasChildNodes();)d.removeChild(d.lastChild);document.getElementById("projects-container").appendChild(d),d.append(c,o),document.getElementById("task-form").dataset.projectIndex=d.dataset.projectIndex,document.getElementById("project-form").reset(),document.getElementById("project-form-container").style.display="none";const s=function(n){const d=new t(n);return e.push(d),d}(c.innerText)}d("Default");const c=document.getElementById("add-project-btn"),o=document.getElementById("add-task-btn"),s=document.getElementById("task-form");document.getElementById("project-form").addEventListener("submit",(e=>{e.preventDefault(),d(e.target[0].value)})),c.addEventListener("click",(()=>{document.getElementById("project-form-container").style.display="block"})),s.addEventListener("submit",(t=>{t.preventDefault(),console.log(t.target.dataset.projectIndex),function(t){const d=document.createElement("div"),c=document.createElement("label"),o=document.createElement("input"),s=document.createElement("p"),a=document.createElement("p"),r=document.createElement("p"),l=document.createElement("p"),i=document.createElement("button");let m=document.getElementById("title").value,u=document.getElementById("desc").value,p=document.getElementById("due-date").value,E=document.getElementById("priority").value;d.classList.add("task"),d.setAttribute("data-project-index",t),c.innerText="Unfinished",o.type="checkbox",o.classList.add("checkbox"),s.innerText=m,a.classList.add("desc"),a.innerText=u,r.innerText=p,l.innerText=E,i.classList.add("close-btn"),i.innerText="X",i.addEventListener("click",(()=>{!function(t,n){let d=t.dataset.projectIndex;t.remove(),e[d].removeTask(n)}(d,y)})),document.getElementById("task-container").appendChild(d),d.append(c,s,a,r,l,i),c.appendChild(o),document.getElementById("task-form").reset(),document.getElementById("task-form-container").style.display="none";const y=function(t,d,c,o,s,a){const r=new n(t,d,c,o,!1);return e[a].tasks.push(r),r}(m,u,p,E,0,t)}(t.target.dataset.projectIndex)})),o.addEventListener("click",(()=>{document.querySelectorAll(".project").length>0&&(document.getElementById("task-form-container").style.display="block")}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBTWIsWUFBWWMsR0FFbEJ2QyxTQUFTUyxlQUFlLGFBQWFrQixRQUNyQzNCLFNBQVNTLGVBQWUsdUJBQXVCbUIsTUFBTUMsUUFBVSxPQUUvRCxNQUFNMUMsRUR4RFIsU0FBeUJQLEVBQU9hLEVBQU1DLEVBQVNDLEVBQVVDLEVBQVVpQixHQUNqRSxNQUFNMUIsRUFBTyxJQUFJSyxFQUFLWixFQUFPYSxFQUFNQyxFQUFTQyxHQ3VEcUMsR0RyRGpGLE9BREFsQixFQUFZb0MsR0FBYy9CLE1BQU1RLEtBQUtILEdBQzlCQSxDQUNULENDb0RlK0QsQ0FBZ0JOLEVBQVlDLEVBQVdDLEVBQWNDLEVBQWUsRUFBT2xDLEVBQzFGLENDM0VFc0MsQ0FBV2pCLEVBQUVFLE9BQU94QixRQUFRQyxhQUFhLElBRzNDbUIsRUFBV3JCLGlCQUFpQixTQUFTLEtBQ2xCWCxTQUFTa0IsaUJBQWlCLFlBQy9CWCxPQUFTLElBQ25CUCxTQUFTUyxlQUFlLHVCQUF1Qm1CLE1BQU1DLFFBQVUsUUFDakUsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9sb2dpYy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvRE9NLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhcnJQcm9qZWN0cyA9IFtdXG5cbmNsYXNzIFByb2plY3Qge1xuICBjb25zdHJ1Y3Rvcih0aXRsZSkge1xuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICB0aGlzLnRhc2tzID0gW107XG4gIH1cbiAgcmVtb3ZlUHJvamVjdCgpIHtcbiAgICBhcnJQcm9qZWN0cy5zcGxpY2UoYXJyUHJvamVjdHMuaW5kZXhPZih0aGlzKSwgMSk7XG4gIH1cbiAgXG4gIGFkZFRhc2sodGFzaykge1xuICAgIGNvbnNvbGUubG9nKHRoaXMudGFza3MpO1xuICAgIHRoaXMudGFza3MucHVzaCh0YXNrKTtcbiAgfVxuXG4gIHJlbW92ZVRhc2sodGFzaykge1xuICAgIHRoaXMudGFza3Muc3BsaWNlKHRoaXMudGFza3MuaW5kZXhPZih0YXNrKSwgMSk7XG4gIH1cbn1cblxuY2xhc3MgVGFzayB7XG4gIGNvbnN0cnVjdG9yKHRpdGxlLCBkZXNjLCBkdWVkYXRlLCBwcmlvcml0eSwgY29tcGxldGUpIHtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgdGhpcy5kZXNjID0gZGVzYztcbiAgICB0aGlzLmR1ZWRhdGUgPSBkdWVkYXRlO1xuICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICB0aGlzLmNvbXBsZXRlID0gY29tcGxldGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlUHJvamVjdENsYXNzKHRpdGxlKSB7XG4gIGNvbnN0IHByb2plY3QgPSBuZXcgUHJvamVjdCh0aXRsZSk7XG4gIGFyclByb2plY3RzLnB1c2gocHJvamVjdCk7XG4gIHJldHVybiBwcm9qZWN0O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUYXNrQ2xhc3ModGl0bGUsIGRlc2MsIGR1ZWRhdGUsIHByaW9yaXR5LCBjb21wbGV0ZSwgcHJvamVjdEluZGV4KSB7XG4gIGNvbnN0IHRhc2sgPSBuZXcgVGFzayh0aXRsZSwgZGVzYywgZHVlZGF0ZSwgcHJpb3JpdHksIGNvbXBsZXRlKTtcbiAgYXJyUHJvamVjdHNbcHJvamVjdEluZGV4XS50YXNrcy5wdXNoKHRhc2spO1xuICByZXR1cm4gdGFzaztcbn1cblxuZXhwb3J0IHtjcmVhdGVQcm9qZWN0Q2xhc3MsIGNyZWF0ZVRhc2tDbGFzcywgYXJyUHJvamVjdHN9IiwiaW1wb3J0IHsgY3JlYXRlUHJvamVjdENsYXNzLCBjcmVhdGVUYXNrQ2xhc3MsIGFyclByb2plY3RzIH0gZnJvbSBcIi4vbG9naWMuanNcIjtcblxuZnVuY3Rpb24gY3JlYXRlUHJvamVjdChuYW1lVmFsdWUpIHtcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGNvbnN0IHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIGNvbnN0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG4gIGRpdi5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0Jyk7XG4gIGRpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdC1pbmRleCcsIGFyclByb2plY3RzLmxlbmd0aCk7XG4gIHAuY2xhc3NMaXN0LmFkZCgnbW91c2UtZWZmZWN0Jyk7XG4gIHAuaW5uZXJUZXh0ID0gbmFtZVZhbHVlO1xuICBidG4uY2xhc3NMaXN0LmFkZCgnY2xvc2UtYnRuJyk7XG4gIGJ0bi5pbm5lclRleHQgPSBcIlhcIjtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC1wcm9qZWN0LWJ0bicpLmRpc2FibGVkID0gZmFsc2U7XG5cbiAgcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFzay1mb3JtJykuZGF0YXNldC5wcm9qZWN0SW5kZXggPSBkaXYuZGF0YXNldC5wcm9qZWN0SW5kZXg7XG4gIH0pO1xuXG4gIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBkZWxldGVQcm9qZWN0KGRpdiwgcHJvamVjdCk7XG4gIH0pO1xuXG4gIHdoaWxlKGRpdi5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICBkaXYucmVtb3ZlQ2hpbGQoZGl2Lmxhc3RDaGlsZCk7XG4gIH1cblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdHMtY29udGFpbmVyJykuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgZGl2LmFwcGVuZChwLCBidG4pO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrLWZvcm0nKS5kYXRhc2V0LnByb2plY3RJbmRleCA9IGRpdi5kYXRhc2V0LnByb2plY3RJbmRleDtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3QtZm9ybScpLnJlc2V0KCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0LWZvcm0tY29udGFpbmVyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICBjb25zdCBwcm9qZWN0ID0gY3JlYXRlUHJvamVjdENsYXNzKHAuaW5uZXJUZXh0KTtcbn1cblxuZnVuY3Rpb24gZGVsZXRlUHJvamVjdChkaXYsIHByb2plY3QpIHtcbiAgbGV0IGluZGV4ID0gZGl2LmRhdGFzZXQucHJvamVjdEluZGV4O1xuICBkaXYucmVtb3ZlKCk7XG4gIHByb2plY3QucmVtb3ZlUHJvamVjdCgpO1xuICBpZihpbmRleCA+IDApIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFzay1mb3JtJykuZGF0YXNldC5wcm9qZWN0SW5kZXggPSBpbmRleCAtIDE7XG4gIH1cbiAgY29uc3QgcHJvamVjdFRhc2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgZGl2LnRhc2tbZGF0YS1wcm9qZWN0LWluZGV4PVwiJHtpbmRleH1cIl1gKTtcbiAgZm9yKGxldCB0YXNrIG9mIHByb2plY3RUYXNrcykge1xuICAgIHRhc2sucmVtb3ZlKCk7XG4gIH1cbiAgY29uc3QgcHJvamVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvamVjdCcpO1xuICBmb3IobGV0IGkgaW4gYXJyUHJvamVjdHMpIHtcbiAgICBwcm9qZWN0c1tpXS5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdC1pbmRleCcsIGkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRhc2socHJvamVjdEluZGV4KSB7XG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgY29uc3QgcFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICBjb25zdCBwRGVzYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgY29uc3QgcER1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIGNvbnN0IHBQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgbGV0IHRpdGxlVmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKS52YWx1ZTtcbiAgbGV0IGRlc2NWYWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNjJykudmFsdWU7XG4gIGxldCBkdWVEYXRlVmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHVlLWRhdGUnKS52YWx1ZTtcbiAgbGV0IHByaW9yaXR5VmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpb3JpdHknKS52YWx1ZTtcblxuICBkaXYuY2xhc3NMaXN0LmFkZCgndGFzaycpO1xuICBkaXYuc2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3QtaW5kZXgnLCBwcm9qZWN0SW5kZXgpO1xuICBsYWJlbC5pbm5lclRleHQgPSBcIlVuZmluaXNoZWRcIjtcbiAgaW5wdXQudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgaW5wdXQuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gnKTtcbiAgcFRpdGxlLmlubmVyVGV4dCA9IHRpdGxlVmFsdWU7XG4gIHBEZXNjLmNsYXNzTGlzdC5hZGQoJ2Rlc2MnKTtcbiAgcERlc2MuaW5uZXJUZXh0ID0gZGVzY1ZhbHVlO1xuICBwRHVlRGF0ZS5pbm5lclRleHQgPSBkdWVEYXRlVmFsdWU7XG4gIHBQcmlvcml0eS5pbm5lclRleHQgPSBwcmlvcml0eVZhbHVlO1xuICBidG4uY2xhc3NMaXN0LmFkZCgnY2xvc2UtYnRuJyk7XG4gIGJ0bi5pbm5lclRleHQgPSBcIlhcIjtcblxuICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZGVsZXRlVGFzayhkaXYsIHRhc2spO1xuICB9KVxuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrLWNvbnRhaW5lcicpLmFwcGVuZENoaWxkKGRpdik7XG4gIGRpdi5hcHBlbmQobGFiZWwsIHBUaXRsZSwgcERlc2MsIHBEdWVEYXRlLCBwUHJpb3JpdHksIGJ0bik7XG4gIGxhYmVsLmFwcGVuZENoaWxkKGlucHV0KTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFzay1mb3JtJykucmVzZXQoKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2stZm9ybS1jb250YWluZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gIGNvbnN0IHRhc2sgPSBjcmVhdGVUYXNrQ2xhc3ModGl0bGVWYWx1ZSwgZGVzY1ZhbHVlLCBkdWVEYXRlVmFsdWUsIHByaW9yaXR5VmFsdWUsIGZhbHNlLCBwcm9qZWN0SW5kZXgpO1xufVxuXG5mdW5jdGlvbiBkZWxldGVUYXNrKGRpdiwgdGFzaykge1xuICBsZXQgaW5kZXggPSBkaXYuZGF0YXNldC5wcm9qZWN0SW5kZXg7XG4gIGRpdi5yZW1vdmUoKTtcbiAgYXJyUHJvamVjdHNbaW5kZXhdLnJlbW92ZVRhc2sodGFzayk7XG59XG5cbmNyZWF0ZVByb2plY3QoXCJEZWZhdWx0XCIpO1xuXG5leHBvcnQgeyBjcmVhdGVQcm9qZWN0LCBjcmVhdGVUYXNrIH0iLCJpbXBvcnQgeyBjcmVhdGVQcm9qZWN0LCBjcmVhdGVUYXNrIH0gZnJvbSBcIi4vRE9NXCI7XG5cbmNvbnN0IHByb2plY3RCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLXByb2plY3QtYnRuJyk7XG5jb25zdCBhZGRUYXNrQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC10YXNrLWJ0bicpO1xuY29uc3QgdGFza0Zvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFzay1mb3JtJyk7XG5jb25zdCBwcm9qZWN0Rm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0LWZvcm0nKTtcblxucHJvamVjdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBjcmVhdGVQcm9qZWN0KGUudGFyZ2V0WzBdLnZhbHVlKTtcbn0pO1xuXG5wcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdC1mb3JtLWNvbnRhaW5lcicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xufSk7XG5cbnRhc2tGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgY29uc29sZS5sb2coZS50YXJnZXQuZGF0YXNldC5wcm9qZWN0SW5kZXgpO1xuICBjcmVhdGVUYXNrKGUudGFyZ2V0LmRhdGFzZXQucHJvamVjdEluZGV4KTtcbn0pO1xuXG5hZGRUYXNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCBwcm9qZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvamVjdFwiKTtcbiAgaWYocHJvamVjdHMubGVuZ3RoID4gMCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrLWZvcm0tY29udGFpbmVyJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIH1cbn0pOyJdLCJuYW1lcyI6WyJhcnJQcm9qZWN0cyIsIlByb2plY3QiLCJjb25zdHJ1Y3RvciIsInRpdGxlIiwidGhpcyIsInRhc2tzIiwicmVtb3ZlUHJvamVjdCIsInNwbGljZSIsImluZGV4T2YiLCJhZGRUYXNrIiwidGFzayIsImNvbnNvbGUiLCJsb2ciLCJwdXNoIiwicmVtb3ZlVGFzayIsIlRhc2siLCJkZXNjIiwiZHVlZGF0ZSIsInByaW9yaXR5IiwiY29tcGxldGUiLCJjcmVhdGVQcm9qZWN0IiwibmFtZVZhbHVlIiwiZGl2IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwicCIsImJ0biIsImNsYXNzTGlzdCIsImFkZCIsInNldEF0dHJpYnV0ZSIsImxlbmd0aCIsImlubmVyVGV4dCIsImdldEVsZW1lbnRCeUlkIiwiZGlzYWJsZWQiLCJhZGRFdmVudExpc3RlbmVyIiwiZGF0YXNldCIsInByb2plY3RJbmRleCIsInByb2plY3QiLCJpbmRleCIsInJlbW92ZSIsInByb2plY3RUYXNrcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwcm9qZWN0cyIsImkiLCJkZWxldGVQcm9qZWN0IiwiaGFzQ2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwibGFzdENoaWxkIiwiYXBwZW5kQ2hpbGQiLCJhcHBlbmQiLCJyZXNldCIsInN0eWxlIiwiZGlzcGxheSIsImNyZWF0ZVByb2plY3RDbGFzcyIsInByb2plY3RCdG4iLCJhZGRUYXNrQnRuIiwidGFza0Zvcm0iLCJlIiwicHJldmVudERlZmF1bHQiLCJ0YXJnZXQiLCJ2YWx1ZSIsImxhYmVsIiwiaW5wdXQiLCJwVGl0bGUiLCJwRGVzYyIsInBEdWVEYXRlIiwicFByaW9yaXR5IiwidGl0bGVWYWx1ZSIsImRlc2NWYWx1ZSIsImR1ZURhdGVWYWx1ZSIsInByaW9yaXR5VmFsdWUiLCJ0eXBlIiwiZGVsZXRlVGFzayIsImNyZWF0ZVRhc2tDbGFzcyIsImNyZWF0ZVRhc2siXSwic291cmNlUm9vdCI6IiJ9